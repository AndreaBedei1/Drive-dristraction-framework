carla:
  host: "127.0.0.1"
  port: 2000
  timeout: 10.0
  seed: 42

  # Prefer short names (Town10HD/Town04). The runner will pick the first available.
  map_preference: ["Town10HD", "Town04"]

  sync: true
  fixed_delta_seconds: 0.055

  traffic_manager:
    port: 8000
    hybrid_physics_radius: 80.0
    global_speed_percentage_difference: -20.0  # negative => faster, positive => slower
    min_distance_to_leading_vehicle: 2.5
    ignore_lights_percentage: 10
    ignore_signs_percentage: 5
    random_left_lanechange_percentage: 20
    random_right_lanechange_percentage: 20

weather:
  preset: "ClearNoon"  # try also: CloudyNoon, WetNoon, HardRainNoon, ClearSunset

traffic_lights:
  green_time: 6.0
  yellow_time: 2.0
  red_time: 4.0

traffic:
  vehicles: 50
  safe_radius_from_route_start: 35.0

pedestrians:
  walkers: 80
  running_percentage: 10
  crossing_percentage: 35
  max_speed_walking: 1.4
  max_speed_running: 3.2

route:
  # "auto" = deterministic pick using seed
  start_spawn_point: "auto"
  # "auto_far" = farthest spawn point from start
  end_spawn_point: "auto_far"

  sampling_resolution: 2.0
  waypoint_reached_threshold: 4.0

  draw: true
  draw_step: 10
  draw_life_time: 999999.0

  auto_reset_on_finish: true
  reset_cooldown_seconds: 3.0
  # Optional explicit test route (spawn point indices). If empty, auto picks city/highway.
  test_spawn_points: []
  test_city_radius_ratio: 0.35
  test_highway_radius_ratio: 0.7
  test_city_density_radius_m: 60.0
  test_city_density_ratio: 0.6
  test_highway_distance_ratio: 0.5

manual_control:
  path: "src/manual_control_steeringwheel.py"
  extra_args:
    - "--filter=vehicle.tesla.model3"
    - "--res=1920x1080"
    # optional:
    # - "-a"

experiment:
  user_id: "participant_01"
  run_id: 1
  weather_label: "day"
  output_dir: "data"
  mode: "test"  # train | test
  test_map_preference: ["Town04"]
  test_vehicles: 100
  test_walkers: 120
  test_dataset_suffix: "_test"

errors:
  harsh_brake_threshold_mps2: 3.5
  harsh_brake_min_speed_kmh: 10.0
  harsh_brake_min_brake: 0.7
  harsh_brake_cooldown_seconds: 1.5
  red_light_min_speed_kmh: 1.0
  red_light_distance_m: 12.0
  red_light_pass_distance_m: 5.0
  red_light_pass_buffer_m: 0.0
  red_light_track_distance_m: 12.0
  red_light_min_interval_seconds: 2.0
  red_light_cooldown_seconds: 5.0
  stop_sign_min_speed_kmh: 10.0
  stop_sign_zone_half_width_m: 1.0
  stop_sign_zone_length_m: 3.0
  stop_sign_dedupe_distance_m: 1.5
  stop_sign_dedupe_time_s: 0.6
  debug_stop_visualization: true
  debug_stop_life_time: 6.0
  solid_line_cooldown_seconds: 2.0
  collision_cooldown_seconds: 2.0

distractions:
  min_interval_seconds: 25.0
  max_interval_seconds: 35.0
  min_gap_between_windows_seconds: 5.0
  flash_duration_seconds: 5.0
  flash_start_interval_seconds: 0.5
  flash_min_interval_seconds: 0.05
  beep_frequency_hz: 880
  beep_duration_ms: 200
  window_titles: ["Distraction 1", "Distraction 2"]
  simulation_window_title: "CARLA Manual Control"

